{"version":4,"terraform_version":"1.11.4","serial":6,"lineage":"a0d3c212-175c-54c2-a501-98e47606dbcb","outputs":{},"resources":[{"module":"module.vault_config","mode":"managed","type":"kubernetes_config_map_v1","name":"vault_bridge","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"binary_data":null,"data":{"auth_path":"kubernetes","vault_role":"external-secrets-role","vault_url":"http://vault.vault.svc.cluster.local:8200"},"id":"external-secrets/vault-bridge-config","immutable":false,"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"vault-bridge-config","namespace":"external-secrets","resource_version":"408654","uid":"e44d5aad-36cc-42c4-a6f9-4668c63ef5b0"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.vault_config.vault_auth_backend.kubernetes","module.vault_config.vault_kubernetes_auth_backend_role.external_secrets","module.vault_config.vault_mount.kvv2","module.vault_config.vault_policy.external_secrets"]}]},{"module":"module.vault_config","mode":"managed","type":"vault_auth_backend","name":"kubernetes","provider":"provider[\"registry.opentofu.org/hashicorp/vault\"]","instances":[{"schema_version":1,"attributes":{"accessor":"auth_kubernetes_275fee38","description":"","disable_remount":false,"id":"kubernetes","local":false,"namespace":null,"path":"kubernetes","tune":[],"type":"kubernetes"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"module":"module.vault_config","mode":"managed","type":"vault_kubernetes_auth_backend_role","name":"external_secrets","provider":"provider[\"registry.opentofu.org/hashicorp/vault\"]","instances":[{"schema_version":0,"attributes":{"alias_name_source":"serviceaccount_uid","audience":null,"backend":"kubernetes","bound_service_account_names":["external-secrets"],"bound_service_account_namespaces":["external-secrets"],"id":"auth/kubernetes/role/external-secrets-role","namespace":null,"role_name":"external-secrets-role","token_bound_cidrs":[],"token_explicit_max_ttl":0,"token_max_ttl":0,"token_no_default_policy":false,"token_num_uses":0,"token_period":0,"token_policies":["external-secrets-policy"],"token_ttl":3600,"token_type":"default"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjAifQ==","dependencies":["module.vault_config.vault_auth_backend.kubernetes","module.vault_config.vault_mount.kvv2","module.vault_config.vault_policy.external_secrets"]}]},{"module":"module.vault_config","mode":"managed","type":"vault_mount","name":"kvv2","provider":"provider[\"registry.opentofu.org/hashicorp/vault\"]","instances":[{"schema_version":0,"attributes":{"accessor":"kv_88aa2483","allowed_managed_keys":[],"audit_non_hmac_request_keys":[],"audit_non_hmac_response_keys":[],"default_lease_ttl_seconds":0,"description":"Main secret storage for applications","external_entropy_access":false,"id":"secret","local":false,"max_lease_ttl_seconds":0,"namespace":null,"options":{"version":"2"},"path":"secret","seal_wrap":false,"type":"kv"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"module":"module.vault_config","mode":"managed","type":"vault_policy","name":"external_secrets","provider":"provider[\"registry.opentofu.org/hashicorp/vault\"]","instances":[{"schema_version":0,"attributes":{"id":"external-secrets-policy","name":"external-secrets-policy","namespace":null,"policy":"path \"secret/data/*\" {\n  capabilities = [\"read\"]\n}\n"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjAifQ==","dependencies":["module.vault_config.vault_mount.kvv2"]}]}],"check_results":null}
